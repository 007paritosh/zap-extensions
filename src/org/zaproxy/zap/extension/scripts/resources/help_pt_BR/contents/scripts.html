<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Scripts</title>
</head>
<body bgcolor="#ffffff">
<h1>Scripts</h1>
<p>
O complemento de Script do ZAP permite que você execute scripts que podem ser incorporados dentro do ZAP e podem acessar estruturas internas de dados do ZAP.<br/>
Ele oferece suporte a qualquer linguagem de script que ofereça suporte a JSR 223 (http://www.jcp.org/en/jsr/detail?id=223), incluindo:
<ul>
<li>ECMAScript / Javascript (incluído por padrão)</li>
<li>Zest https://developer.mozilla.org/en-US/docs/zest (padrão)</li>
<li>Groovy http://groovy.codehaus.org/</li>
<li>Python http://www.jython.org</li>
<li>Ruby - http://jruby.org/</li>
<li>e muitos mais...</li> 
</ul>

<b>AVISO - scripts são executados com as mesmas permissões que o ZAP, portanto não execute quaisquer scripts nos quais não confie!</b>

<h2>Tipos de scripts</h2>
Diferentes tipos de scripts são suportados:
<ul>
<li>Stand Alone - scripts que são independentes, e só são executados quando iniciados manualmente</li>
<li>Regras Ativas - estes são executados como parte da Varredura Ativa e podem ser habilitados individualmente</li>
<li>Regras passivas - estas são executadas como parte da Varredura passiva e podem ser habilitadas individualmente</li> 
<li>Regras de Proxy - estas rodam 'inline', podem alterar a cada solicitação e resposta, e podem ser habilitadas individualmente. Também podem criar pontos de interrupção</li> 
<li>Regras com Alvos - scripts que quando invocados com um URL de destino e rodam apenas quando são iniciados manualmente</li>
<li>Autenticação - scripts chamados quando a autenticação é executada para um contexto. Para serem usados, eles precisam ser selecionados ao configurar o Método de autenticação baseado em Script para um contexto. </li> 
<li>Vetores de entrada de script - scripts para definir exatamente o que o ZAP deve atacar</li> 
</ul>
All scripts that are run automatically are initially 'disabled' - you must enable them via the <a href="tree.html">The Scripts 'tree' tab</a>
before they will run.<br/>
If an error occurs when they run then they will be disabled.<br/>
When you select the script then the last error will be shown in the <a href="console.html">Script Console tab</a>.<br/>
Targeted scripts can be invoked by right clicking on a record in the Sites or History tabs and selecting the 'Invoke with script...' menu item.
</p>
<p>

All scripting languages can be used for all script types, but only those languages that have been downloaded from the ZAP Marketplace
will typically have templates. However you may well be able to adapt a template for another language.<br/>
If your favourite language is not available on the Marketplace then please raise a new issue via the "Online/Report an issue" menu item.<br/>
In the meantime you can just place the relevant jars in the 'lib' directory (not the 'plugin' directory) and restart ZAP.<br/>
</p>

<h2>Global Variables</h2>
Variables can be shared between all scripts via the class org.zaproxy.zap.extension.script.ScriptVars.<br/>
For example in Javascript you can use this class as follows:<br/><br/>
<code>
org.zaproxy.zap.extension.script.ScriptVars.setGlobalVar("var.name","value")<br/>
org.zaproxy.zap.extension.script.ScriptVars.getGlobalVar("var.name")<br/>
</code>

<h2>Script Variables</h2>
Variables can be shared between separate invocations of the same script via the same org.zaproxy.zap.extension.script.ScriptVars class.<br/>
For example in Javascript you can use this class as follows:<br/><br/>
<code>
org.zaproxy.zap.extension.script.ScriptVars.setScriptVar(this.context, "var.name","value")<br/>
org.zaproxy.zap.extension.script.ScriptVars.getScriptVar(this.context, "var.name")<br/>
</code>
<br/>
Note that these methods are only usable from scripting languages that provide access to the ScriptContext (like Javascript).

<h2>See also</h2>
<table>
<tr>
	<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
	<td><a href="console.html">The Script Console tab</a></td><td></td>
</tr>
<tr>
	<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
	<td><a href="tree.html">The Scripts 'tree' tab</a></td><td></td>
</tr>
</table>

<h2>External links</h2>
<table>
<tr>
	<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
	<td>https://github.com/zaproxy/zaproxy/wiki/InternalDetails</td>
	<td>ZAP internal objects</td></tr>
<tr>
	<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
	<td>https://github.com/zaproxy/zaproxy/wiki/JavaDocs</td>
	<td>ZAP javadocs</td>
</tr>
</table>

</body>
</html>
